# -*-TCL-*-

#the default set of includes
include "RecoMuon/MuonIsolationProducers/data/muIsoDeposits_setup.cff"

#the default set of modules first
include "RecoMuon/MuonIsolationProducers/data/muIsoDepositTk.cfi"
include "RecoMuon/MuonIsolationProducers/data/muIsoDepositJets.cfi"
include "RecoMuon/MuonIsolationProducers/data/muIsoDepositCalByAssociatorTowers.cfi"
include "RecoMuon/MuonIsolationProducers/data/muIsoDepositCalByAssociatorHits.cfi"

#the same but for FastSim muons
module muParamGlobalIsoDepositCtfTk 
= muIsoDepositTk from "RecoMuon/MuonIsolationProducers/data/muIsoDepositTk.cfi"
replace muParamGlobalIsoDepositCtfTk.IOPSet = { using MIsoDepositParamGlobalViewIOBlock }
replace muParamGlobalIsoDepositCtfTk.ExtractorPSet = { using MIsoTrackExtractorGsBlock }

module muParamGlobalIsoDepositCalByAssociatorTowers 
= muIsoDepositCalByAssociatorTowers from "RecoMuon/MuonIsolationProducers/data/muIsoDepositCalByAssociatorTowers.cfi"
replace muParamGlobalIsoDepositCalByAssociatorTowers.IOPSet = { using MIsoDepositParamGlobalViewMultiIOBlock }

module muParamGlobalIsoDepositCalByAssociatorHits 
= muIsoDepositCalByAssociatorHits from "RecoMuon/MuonIsolationProducers/data/muIsoDepositCalByAssociatorHits.cfi"
replace muParamGlobalIsoDepositCalByAssociatorHits.IOPSet = { using MIsoDepositParamGlobalViewMultiIOBlock }

module muParamGlobalIsoDepositJets 
= muIsoDepositJets from "RecoMuon/MuonIsolationProducers/data/muIsoDepositJets.cfi"
replace muParamGlobalIsoDepositJets.IOPSet = { using MIsoDepositParamGlobalViewIOBlock }

#for bw compat (kill later)
module muParamGlobalIsoDepositGsTk 
= muIsoDepositTk from "RecoMuon/MuonIsolationProducers/data/muIsoDepositTk.cfi"
replace muParamGlobalIsoDepositGsTk.IOPSet = { using MIsoDepositParamGlobalIOBlock }
replace muParamGlobalIsoDepositGsTk.ExtractorPSet = { using MIsoTrackExtractorGsBlock }
module muParamGlobalIsoDepositTk 
= muIsoDepositTk from "RecoMuon/MuonIsolationProducers/data/muIsoDepositTk.cfi"
replace muParamGlobalIsoDepositTk.IOPSet = { using MIsoDepositParamGlobalIOBlock }
replace muParamGlobalIsoDepositTk.ExtractorPSet = { using MIsoTrackExtractorBlock }

module muParamGlobalIsoDepositCalEcal = muIsoDepositCal from "RecoMuon/MuonIsolationProducers/data/muIsoDepositCal.cfi"
replace muParamGlobalIsoDepositCalEcal.IOPSet = { using MIsoDepositParamGlobalIOBlock }
replace muParamGlobalIsoDepositCalEcal.ExtractorPSet = { using MIsoCaloExtractorEcalBlock } 

module muParamGlobalIsoDepositCalHcal = muIsoDepositCal from "RecoMuon/MuonIsolationProducers/data/muIsoDepositCal.cfi"
replace muParamGlobalIsoDepositCalHcal.IOPSet = { using MIsoDepositParamGlobalIOBlock }
replace muParamGlobalIsoDepositCalHcal.ExtractorPSet = { using MIsoCaloExtractorHcalBlock }


##########################################################################
# and now sequences of the above
##########################################################################
#------------------------------
# "standard sequences"
sequence muIsoDeposits_muons = {
    muIsoDepositTk & 
    muIsoDepositCalByAssociatorTowers & 
    muIsoDepositJets
}

#old one, using a reduced config set
sequence muIsoDeposits_ParamGlobalMuonsOld = {
    muParamGlobalIsoDepositGsTk & 
    muParamGlobalIsoDepositCalEcal & 
    muParamGlobalIsoDepositCalHcal
}

sequence muIsoDeposits_ParamGlobalMuons = {
    muParamGlobalIsoDepositTk & 
    muParamGlobalIsoDepositCalByAssociatorTowers & 
    muParamGlobalIsoDepositJets
}
